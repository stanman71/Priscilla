      <div class="content">
        <div class="row">
          <div class="col-md-12">

            <div class="card ">
              <div class="card-header">
                <h4 class="card-title"><b>Musik</b></h4>
              </div>
            </div>

<!-------------------->
<!-- LOGIN / LOGOUT -->
<!-------------------->

            <div class="card">          
              <form method="POST">
                <div class="card-body">                          
                  Spotify-Account >>> {% if spotify_user == "" %}<font color="salmon"> Nicht eingeloggt </font>{% else %}<font color="lightgreen"> {{ spotify_user }} </font>{% endif %}</span>
                </div>   
                <div class="card-footer">                                                                    
                  {% if spotify_user == "" %}
                    <a href="/music/login/url_target/spotify#" class="btn btn-fill btn-info" role="button">Login</a> 
                  {% else %}    
                    <a href="/music/logout/url_target/spotify#" class="btn btn-fill btn-warning" role="button">Logout</a>  
                  {% endif %}  
                </div>  
              </form>
            </div>

<!-------------------->
<!-- MUSIC CONTROL  -->
<!-------------------->

{% if spotify_user != "" %}

  <!-- error message spotify -->   

  {% if error_message_spotify != "" %}
    <div class="alert alert-danger">
      <button type="button" aria-hidden="true" class="close" data-dismiss="alert" aria-label="Close">
        <i class="tim-icons icon-simple-remove"></i>
      </button>
      <span>{{ error_message_spotify }}</span>
    </div>
  {% endif %}   


  {% if tupel_current_playback != ('', '', '', '', '', [], '', '', '') and tupel_current_playback != '' %} 

            <div class="card">
              <form method="POST">          
                <div class="card-body"> 
                  <div class="table-responsive">
                    <table class="table tablesorter">
                      <thead>
                        <th scope="col" style="width:15%" class="minwidth_150">Geräte</th>   
                        <th scope="col" style="width:10%" class="minwidth_100">Playing</th>                                                      
                        <th scope="col" style="width:20%" class="minwidth_200">Track</th>                                     
                        <th scope="col" style="width:25%" class="minwidth_200">Interpreten</th>                     
                        <th scope="col" style="width:20%" class="minwidth_200">Playlist</th> 
                        <th scope="col" style="width:10%" class="minwidth_100">Shuffle</th> 
                      </thead>                                             
                      <tbody> 
                        <tr>
                          <td>
                            {% if "multiroom" in tupel_current_playback[0] %}
                              multiroom
                            {% else %}
                              {{ tupel_current_playback[0] }}
                            {% endif %}    
                          </td>   
                          <td>
                            {{ tupel_current_playback[2] }}
                          </td>   
                          <td>
                            {{ tupel_current_playback[4] }} 
                          </td>                          
                          <td>
                            {% for artist in tupel_current_playback[5] %}
                              {{ artist }}
                            {% endfor %} 
                          </td>                         
                          <td>
                            {{ tupel_current_playback[7] }}
                          </td>   
                          <td>
                            {{ tupel_current_playback[8] }}
                          </td>                                                                                                                           
                        </tr>             
                      </tbody>
                    </table>
                  </div>
                  <button type="submit" onclick="window.location.href='/spotify#'" class="btn btn-default" name="set_spotify_play">
                    <i class='uil uil-play'></i>
                  </button>                               
                  <button type="submit" onclick="window.location.href='/spotify#'" class="btn btn-default" name="set_spotify_previous">
                    <i class='uil uil-backward'></i>
                  </button>
                  <button type="submit" onclick="window.location.href='/spotify#'" class="btn btn-default" name="set_spotify_next">
                    <i class='uil uil-forward'></i>
                  </button>
                  <button type="submit" onclick="window.location.href='/spotify#'" class="btn btn-default" name="set_spotify_stop">
                    <i class='uil uil-pause'></i>
                  </button>
                  <button type="submit" onclick="window.location.href='/spotify#'" class="btn btn-default" name="set_spotify_volume">
                    <i class='uil uil-volume'></i>
                  </button>
                  <input type="range" class="slider" name="set_spotify_current_volume" min="0" max="100" value="{{ volume }}" />     
                </div>
              </form>
            </div>

  {% endif %} 

  <!-------------------->
  <!-- PLAYLIST TABLE -->
  <!-------------------->

  {% if spotify_devices != "" %}   

            <div class="card">
              <form method="POST">          
                <div class="card-body"> 
                  <div class="table-responsive">
                    <table class="table tablesorter">

                      <thead>
                        <th scope="col" style="width:25%" class="minwidth_200">Geräte</th>   
                        <th scope="col" style="width:15%" class="minwidth_150">Geräte Typ</th>                                  
                        <th scope="col" style="width:30%" class="minwidth_200">Playlist</th>
                        <th scope="col" style="width:20%" class="minwidth_100">Lautstärke</th>  
                        <th scope="col" style="width:10%" class="minwidth_100"><div class="text-center">Abspielen</div></th>                                   
                      </thead>
                      <tbody> 
                        
                        {% for device in spotify_devices %}
                        
                          <tr>
                            
                            {% if device['type'] != "Smartphone" %}

                              <td>
                                {% if "multiroom" in device['name'] %}
                                  multiroom
                                {% else %}
                                  {{ device['name'] }}
                                {% endif %}      
                              </td>                     
                              <td>
                                {% if "multiroom" in device['name'] %}
                                  Multiroom Group
                                {% else %}
                                  {{ device['type'] }}
                                {% endif %}      
                              </td>     
                              <td>    
                                <select class="form-control" data-size="5" name="set_spotify_playlist:{{ device['id'] }}" style="background-color:#27293D"> 
                                  {% if spotify_playlists != "" %}
                                    {% for playlist in spotify_playlists %}
                                      {% if playlist['name'] != "Discover Weekly" %}
                                        <option value="{{ playlist['uri'] }}" > {{ playlist['name'] }} </option>
                                      {% endif %}
                                    {% endfor %}
                                  {% else %}
                                  <option value= "" > Keine Playlist gefunden </option>
                                  {% endif %}  
                                </select>    
                              </td>   
                              <td>
                                <div class="slidecontainer"> 
                                  <div class="col-12">                             
                                    <input type="range" class="slider" name="set_spotify_playlist_volume:{{ device['id'] }}" min="0" max="100" value="{{ volume }}" />
                                  </div> 
                                </div> 
                              </td>
                              <td>   
                                <div class="text-center">   
                                  <button type="submit" onclick="window.location.href='/dashboard#spotify'" class="btn btn-default" name="spotify_start_playlist" value="{{ device['id'] }}">
                                    <i class='uil uil-play'></i>
                                  </button>                                                             
                                </div>                          
                              </td>  
                              
                            {% endif %}   
                              
                          </tr>
                          
                        {% endfor %}    
                                  
                      </tbody>
                    </table>
                  </div>      
                </div>
              </form>
            </div>

  {% endif %} 

  <!------------------>
  <!-- search track -->
  <!------------------>      
    
  <section id="table_track"></section> 

  <!-- error message search track -->

  {% if error_message_search_track != "" %}
    <div class="alert alert-danger">
      <button type="button" aria-hidden="true" class="close" data-dismiss="alert" aria-label="Close">
        <i class="tim-icons icon-simple-remove"></i>
      </button>
      <span>{{ error_message_search_track }}</span>
    </div>
  {% endif %}  
            
              
  <!-- search track table -->         
        
            <div class="card ">
              <div class="card-header">
                <a data-toggle="collapse" href="#collapse_search_track"><font color="white"><b><i class='uil uil-arrow-down'> Suche Track </i></b></font></a>
                <br>
                <br>
              </div>            
              <form method="POST">      
                <div id="collapse_search_track" class="collapse{% if collapse_search_track_open == "True" %}.show{% endif %}">    
                  <div class="card-body"> 
                    <div class="row justify-content-md-left">
                      <div class="col-sm-3"> 
                        <input type="text" class="form-control" name="set_spotify_search_track" placeholder="Track" value="{{ track_name }}" />
                      </div>           
                      <div class="col-sm-3"> 
                        <input type="text" class="form-control" name="set_spotify_search_track_artist" placeholder="Artist" value="{{ track_artist }}" />
                      </div>  
                    </div>    
                    <br>                                                 
                    <input type="submit" onclick="window.location.href='/music#table_track'" class="btn btn-default" name="spotify_search_track" value="Suchen" />                  
                    <br>
                    <br>
                  
                    {% if list_search_track_results != "" %}
                      
                      <div class="table-responsive">
                        <table class="table tablesorter">
                          <thead>
                            <th scope="col" style="width:25%" class="minwidth_200">Track</th>   
                            <th scope="col" style="width:25%" class="minwidth_200">Interpreten</th> 
                            <th scope="col" style="width:20%" class="minwidth_150">Gerät</th>   
                            <th scope="col" style="width:20%" class="minwidth_150">Lautstärke</th>                                 
                            <th scope="col" style="width:10%" class="minwidth_100">Abspielen</th>                                   
                          </thead>
                          <tbody> 
                            
                            {% for track in list_search_track_results %}
                            
                              <tr>
                                <td>
                                  {{ track[0] }}
                                </td>
                                
                                <td>
                                  {{ track[1] }}
                                </td>     
                                
                                <td>    
                                  <select class="form-control" data-size="5" name="set_spotify_track_device:{{ track[2] }}" style="background-color:#27293D"> 
                                    {% if spotify_devices != "" %}
                                      {% for device in spotify_devices %}
                                        {% if device['type'] != "Smartphone" %}
                                          <option value="{{ device['id'] }}" > {{ device['name'] }} </option>
                                        {% endif %}
                                      {% endfor %}
                                    {% else %}
                                    <option value= "" > Keine Geräte gefunden </option>
                                    {% endif %}
                                  </select>    
                                </td>                             
                              
                                <td>
                                  <div class="slidecontainer"> 
                                    <div class="col-md-10 text-center"> 
                                      <input type="range" class="slider" name="set_spotify_track_volume:{{ track[2] }}" min="0" max="100" value="{{ volume }}" />
                                    </div> 
                                  </div> 
                                </td>
        
                                <td>    
                                  <div class="row justify-content-md-left">
                                    <div class="col-sm-2">     
                                      <button onclick="window.location.href='/music#table_track'" name="spotify_track_play" value="{{ track[2] }}" class="btn btn-default" type="submit">
                                        <i class='uil uil-play'></i>
                                      </button>                               
                                    </div>                                          
                                  </div>                          
                                </td>    
                              </tr>
                              
                            {% endfor %}                    

                          </tbody>
                        </table>
                      </div>      

                    {% endif %} 

                  </div>              
                </div>           
              </form>
            </div>


  <!------------------>
  <!-- search album -->
  <!------------------>      
    
  <section id="table_album"></section> 

  <!-- error message search album -->

  {% if error_message_search_album != "" %}
    <div class="alert alert-danger">
      <button type="button" aria-hidden="true" class="close" data-dismiss="alert" aria-label="Close">
        <i class="tim-icons icon-simple-remove"></i>
      </button>
      <span>{{ error_message_search_album }}</span>
    </div>
  {% endif %}   
            
              
  <!-- search album table -->         
      
            <div class="card ">
              <div class="card-header">
                <a data-toggle="collapse" href="#collapse_search_album"><font color="white"><b><i class='uil uil-arrow-down'> Suche Album </i></b></font></a>
                <br>
                <br>
              </div>            
              <form method="POST">      
                <div id="collapse_search_album" class="collapse{% if collapse_search_album_open == "True" %}.show{% endif %}">    
                  <div class="card-body"> 
                    <div class="row justify-content-md-left">
                      <div class="col-sm-3"> 
                        <input type="text" class="form-control" name="set_spotify_search_album" placeholder="Album" value="{{ album_name }}" />
                      </div>           
                      <div class="col-sm-3"> 
                        <input type="text" class="form-control" name="set_spotify_search_album_artist" placeholder="Artist" value="{{ album_artist }}" />
                      </div>  
                    </div>
                    <br>                                   
                    <input type="submit" onclick="window.location.href='/music#table_album'" class="btn btn-default" name="spotify_search_album" value="Suchen" />
                    <br>
                    <br>
                  
                    {% if list_search_album_results != "" %}
                      
                      <div class="table-responsive">
                        <table class="table tablesorter">
                          <thead>
                            <th scope="col" style="width:25%" class="minwidth_200">Album</th>   
                            <th scope="col" style="width:25%" class="minwidth_200">Interpreten</th> 
                            <th scope="col" style="width:20%" class="minwidth_150">Gerät</th>   
                            <th scope="col" style="width:20%" class="minwidth_150">Lautstärke</th>                                 
                            <th scope="col" style="width:10%" class="minwidth_100">Abspielen</th>                                   
                          </thead>
                          <tbody> 
                            
                            {% for album in list_search_album_results %}
                            
                              <tr>
                                <td>
                                  {{ album[0] }}
                                </td>
                                
                                <td>
                                  {{ album[1] }}
                                </td>     
                                
                                <td>    
                                  <select class="form-control" data-size="5" name="set_spotify_album_device:{{ album[2] }}" style="background-color:#27293D"> 
                                    {% if spotify_devices != "" %}
                                      {% for device in spotify_devices %}
                                        {% if device['type'] != "Smartphone" %}
                                          <option value="{{ device['id'] }}" > {{ device['name'] }} </option>
                                        {% endif %}
                                      {% endfor %}
                                    {% else %}
                                    <option value= "" > Keine Geräte gefunden </option>
                                    {% endif %}
                                  </select>    
                                </td>                             
                              
                                <td>
                                  <div class="slidecontainer"> 
                                    <div class="col-md-10 text-center"> 
                                      <input type="range" class="slider" name="set_spotify_album_volume:{{ album[2] }}" min="0" max="100" value="{{ volume }}" />
                                    </div> 
                                  </div> 
                                </td>
        
                                <td>    
                                  <div class="row justify-content-md-left">
                                    <div class="col-sm-2">     
                                      <button onclick="window.location.href='/music#table_album'" name="spotify_album_play" value="{{ album[2] }}" class="btn btn-default" type="submit">
                                        <i class='uil uil-play'></i>
                                      </button>                               
                                    </div>                                          
                                  </div>                          
                                </td>    
                              </tr>
                              
                            {% endfor %}                    

                          </tbody>
                        </table>
                      </div>      

                    {% endif %} 

                  </div>              
                </div>           
              </form>
            </div>

{% endif %} 

<!------------------------>
<!-- CLIENT MUSIC TABLE -->
<!------------------------>

<section id="client_music"></section> 

<!-- success message change settings client music -->

{% if success_message_change_settings_client_music != [] %}
  <div class="alert alert-success">
    <button type="button" aria-hidden="true" class="close" data-dismiss="alert" aria-label="Close">
      <i class="tim-icons icon-simple-remove"></i>
    </button>
    {% for success in success_message_change_settings_client_music %}
      <span data-notify="message">{{ success }}</span>
    {% endfor %}
  </div>
{% endif %}  

<!-- error message change settings client music -->

{% if error_message_change_settings_client_music != [] %}
  <div class="alert alert-danger">
    <button type="button" aria-hidden="true" class="close" data-dismiss="alert" aria-label="Close">
      <i class="tim-icons icon-simple-remove"></i>
    </button>
    {% for error in error_message_change_settings_client_music %}
      <span data-notify="message">{{ error }}</span>
    {% endfor %}
  </div>
{% endif %}


            <div class="card">
              <form method="POST">          
                <div class="card-body"> 
                  <div class="table-responsive">
                    <table class="table tablesorter">

                      <thead>
                        <th scope="col" style="width:20%" class="minwidth_200">Client</th>   
                        <th scope="col" style="width:20%" class="minwidth_200">Geräte Typ</th>                                  
                        <th scope="col" style="width:10%" class="minwidth_100">Interface</th>
                        <th scope="col" style="width:20%" class="minwidth_200">Lautstärke</th>                        
                        <th scope="col" style="width:30%"></th>                            
                      </thead>
                      <tbody> 
                        
                        {% for entry in list_client_music %}
                        
                          <tr>
                            <td>{{ entry.name }}</td> 
                            <td>{{ entry.model }}</td> 
                            <td>
                                
                              <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="radio_spotify_{{ entry.id }}" {% if "spotify" in entry.last_values_formated %} checked="on" {% endif %} value="spotify" name="radio_client_music_interface_{{ entry.id }}">
                                <label class="custom-control-label" for="radio_spotify_{{ entry.id }}">Spotify</label>
                              </div> 
                              <br>       
                              <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="radio_multiroom_{{ entry.id }}" {% if "multiroom" in entry.last_values_formated %} checked="on" {% endif %} value="multiroom" name="radio_client_music_interface_{{ entry.id }}">
                                <label class="custom-control-label" for="radio_multiroom_{{ entry.id }}">Multiroom</label>
                              </div>  
                            <td>
                              <div class="slidecontainer"> 
                                <div class="col-md-10 text-center"> 
                                  <input type="range" class="slider" name="set_client_music_volume_{{ entry.id }}" min="100" max="207" value="{{ entry.last_values.split(':')[2] | replace('}', '') }}" />
                                </div> 
                              </div>                             
                            </td>                               
                            <td></td>                         
                          </tr>
                          
                        {% endfor %}    
                                  
                      </tbody>
                    </table>
                  </div>      
                <div class="card-footer">                   
                  <button type="submit" onclick="window.location.href='/music#client_music'" name="save_client_music_settings" class="btn btn-fill btn-primary">SAVE</button>
                </div>
              </form>
            </div>

          </div>
        </div>
      </div>                